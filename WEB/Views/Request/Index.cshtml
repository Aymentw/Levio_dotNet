@using Microsoft.Ajax.Utilities
@model IEnumerable<WEB.Models.RequestModel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}




<div class="row">
    <div class="col-xl-12">
        <!-- Hover -->
        <div class="widget has-shadow">
            <div class="widget-header bordered no-actions d-flex align-items-center">
                <h4>Requests List</h4>
            </div>
            <div class="widget-body">
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead>
                            <tr>
                                <th>Subject</th>
                                <th>Delivery Date</th>
                                <th>Resource Type</th>
                                <th><span style="width:100px;">Status</span></th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                        
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td><span class="text-primary">@Html.DisplayFor(modelItem => item.context)</span></td>
                                <td>@Html.DisplayFor(modelItem => item.deliveryDate)</td>
                                <td>@Html.DisplayFor(modelItem => item.resourceType)</td>
                                @if (item.status != null)
                                {
                                    
                                    if (item.status == false)
                                     {
                                         <td><span style='width: 100px;'><span class='badge-text badge-text-small info'>Opened</span></span></td>
                                    }
                                    else
                                    {
                                        <td><span style='width: 100px;'><span class='badge-text badge-text-small danger'>Closed</span></span></td>
                                     }
                                }
                                else
                                {
                                    <td>@Html.DisplayFor(modelItem => item.status)</td>

                                }
                                <td class="td-actions">
                                    <a href="#"><i class="la la-check-circle"></i></a>
                                    <a  onclick="deleteRequest(@item.id)"><i class="la la-close delete"></i></a>
                                </td>
                            </tr>
                        }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- End Hover -->
    </div>
</div>

@section scripts
{
    <script>
        function deleteRequest(id) {
            alertify.confirm('Levio Map',
                'Are you sure you want to delete this request ?',
                function () {
                    $.ajax({
                       
                    });
                }, null);
        }
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
    <script>
        WebFont.load({
            google: {"families":["Montserrat:400,500,600,700","Noto+Sans:400,700"]},
            active: function() {
                sessionStorage.fonts = true;
            }
        });
    </script>
<script src="~/Scripts/bootstrap.min.js"></script>
}
